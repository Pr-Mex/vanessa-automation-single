# language: ru
# encoding: utf-8
#parent uf:
@UF6_текстовые_и_видео_инструкции
#parent ua:
@UA41_формировать_текстовые_инструкции

@IgnoreOnOFBuilds
@IgnoreOn82Builds
@IgnoreOnWeb
@tree

Функциональность: Снятие скриншов при выполнении произвольного шага

	Сценарий: Снятие скриншота компонентой при тегировании шага специальным тегом, когда заданы настройки снимать каждый сеанс 1С и все окна сеанса

		Дано я очищаю каталог "$КаталогИнструментов$\tools\ScreenShotsTest"
		И я закрываю сеанс TESTCLIENT
		Когда я запускаю служебный сеанс TestClient с ключом TestManager в той же базе
		Дано Я открываю VanessaAutomation в режиме TestClient со стандартной библиотекой
		И я перехожу к закладке с именем "ГруппаНастройки"
		И я перехожу к закладке с именем "СтраницаОтчетыОЗапуске"
		И В открытой форме я устанавливаю флаг "Формировать скриншот при ошибке"
		И в поле каталог скриншотов я указываю путь к относительному каталогу "tools\ScreenShotsTest"
		И я перехожу к закладке с именем "СтраницаСервисОсновные"
		И я перехожу к закладке с именем "СтраницаСкриншоты"
		
		И я устанавливаю флаг с именем 'ИспользоватьКомпонентуVanessaExt1'
		И я устанавливаю флаг с именем 'ИспользоватьВнешнююКомпонентуДляСкриншотов'
		И из выпадающего списка с именем "СпособСнятияСкриншотовВнешнейКомпонентой" я выбираю точное значение 'Все окна клиента тестирования'
		И я устанавливаю флаг с именем 'СниматьСкриншотКаждогоОкна1С'
				
		
		И я перехожу к закладке "Автоинструкции"
		Затем В поле с именем "КаталогФичСлужебный" я указываю путь к служебной фиче "Скриншоты/ДляПроверкиСнятияСкриншотаШага02"
		И Я нажимаю на кнопку перезагрузить сценарии в Vanessa-Automation TestClient
		И Я нажимаю на кнопку выполнить сценарии в Vanessa-Automation TestClient
		И в каталоге скриншотов появился хотя бы один скриншот	

	Сценарий: Активизация основного клиента
		И я закрываю TestClient "TM"
		И в таблице клиентов тестирования я активизирую строку 'Этот клиент'

	Сценарий: Снятие скриншота компонентой при тегировании шага специальным тегом.

		Дано я очищаю каталог "$КаталогИнструментов$\tools\ScreenShotsTest"
		Дано Я открываю VanessaAutomation в режиме TestClient со стандартной библиотекой
		И я перехожу к закладке с именем "ГруппаНастройки"
		И я перехожу к закладке с именем "СтраницаОтчетыОЗапуске"
		И В открытой форме я устанавливаю флаг "Формировать скриншот при ошибке"
		И в поле каталог скриншотов я указываю путь к относительному каталогу "tools\ScreenShotsTest"
		И я перехожу к закладке с именем "СтраницаСервисОсновные"
		И я перехожу к закладке с именем "СтраницаСкриншоты"
		
		И я устанавливаю флаг с именем 'ИспользоватьКомпонентуVanessaExt1'
		И я устанавливаю флаг с именем 'ИспользоватьВнешнююКомпонентуДляСкриншотов'
		И из выпадающего списка с именем "СпособСнятияСкриншотовВнешнейКомпонентой" я выбираю точное значение 'Весь экран'
		
		И я перехожу к закладке "Автоинструкции"
		Затем В поле с именем "КаталогФичСлужебный" я указываю путь к служебной фиче "Скриншоты/ДляПроверкиСнятияСкриншотаШага01"
		И Я нажимаю на кнопку перезагрузить сценарии в Vanessa-Automation TestClient
		И Я нажимаю на кнопку выполнить сценарии в Vanessa-Automation TestClient
		И в каталоге скриншотов появился хотя бы один скриншот	
		
		
	Сценарий: Снятие скриншота внешней программой при тегировании шага специальным тегом.
		Дано я очищаю каталог "$КаталогИнструментов$\tools\ScreenShotsTest"
		Дано Я открываю VanessaAutomation в режиме TestClient со стандартной библиотекой
		И я перехожу к закладке с именем "ГруппаНастройки"
		И я перехожу к закладке с именем "СтраницаОтчетыОЗапуске"
		И В открытой форме я устанавливаю флаг "Формировать скриншот при ошибке"
		И в поле каталог скриншотов я указываю путь к относительному каталогу "tools\ScreenShotsTest"
		И я перехожу к закладке с именем "СтраницаСервисОсновные"
		И я перехожу к закладке с именем "СтраницаСкриншоты"
		И В открытой форме в поле "Команда создания скриншотов" я ввожу команду для IrfanView 
		И я перехожу к закладке "Автоинструкции"
		Затем В поле с именем "КаталогФичСлужебный" я указываю путь к служебной фиче "Скриншоты/ДляПроверкиСнятияСкриншотаШага01"
		И Я нажимаю на кнопку перезагрузить сценарии в Vanessa-Automation TestClient
		И Я нажимаю на кнопку выполнить сценарии в Vanessa-Automation TestClient
		И в каталоге скриншотов появился хотя бы один скриншот