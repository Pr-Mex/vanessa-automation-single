##### [Ссылка на видео](https://vkvideo.ru/video-235354700_456239379)

001. Привет! Данный урок создан по материалам канала "QA в 1С". Автор Александр Кунташов.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00004_63902998480511_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

002. Александр привет. Скажи, пожалуйста - Как в экспортный сценарий передавать многострочные параметры, как это сделано в этом библиотечном шаге?

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00014_63902998485713_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

003. В этом примере нужный мне код я указываю сразу после строки шага, обернув это всё тремя двойными кавычками. И могу использовать переносы строк.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00019_63902998491494_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

004. Я хочу также передавать параметры в мои подсценарии.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00024_63902998497149_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

005. Привет. Да, в экспортный сценарий можно передать многострочный параметр.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00031_63902998502822_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

006. Но делается это не так интуитивно, как передача "обычных" параметров, которые передаются в имени сценария.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00038_63902998508671_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

007. Чтобы в экспортный сценарий можно было передать многострочную строку, нужно, чтобы в теле этого экспортного сценария вызывался бы какой-либо другой шаг, принимающий многострочную строку в качестве параметра.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00045_63902998513436_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

008. Например шаг установки значения переменной: И Я запоминаю в переменную "ИмяПеременной" значение "ЗначениеПеременной".

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00054_63902998522757_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

009. Нагляднее будет продемонстрировать на примере.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00061_63902998528720_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

010. Допустим, мы хотим реализовать подсценарий: И я вывожу многострочное приветствие, который мы хотели бы вызывать вот таким образом

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00070_63902998537874_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

011. Реализация этого подсценария должна быть такой:

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00079_63902998547296_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

012. Как вы видите, в названии сценария у нас нет никаких параметров.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00084_63902998552943_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

013. Вместо этого у нас в первой строке сценария в шаге: И я запоминаю в переменную

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00089_63902998558584_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

014. В переменную сохраняется многострочная строка со значением "Приветствие по умолчанию".

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00094_63902998563250_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

015. Когда мы вызываем наш подсценарий, как написано в примере выше, то Vanessa Automation подменяет эту многострочную строку на ту, которую мы передаем

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00099_63902998568704_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

016. У такой реализации есть побочный эффект: мы можем вызвать наш подсценарий даже без аргументов.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00106_63902998573498_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

017. В этом случае в переменную присвоится (и будет выведено) значение: Приветствие по умолчанию.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00111_63902998579140_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

018. Многострочных параметров у подсценария может быть несколько, для этого в реализации подсценария нужно использовать несколько шагов, принимающих многострочные параметры.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00118_63902998585083_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

019. При вызове подсценария, передавать значения таких параметров нужно точно в том порядке, в котором они идут в теле экспортного сценария.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00125_63902998590944_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

020. Но, если честно, мне сложно придумать пример, когда такое может понадобиться.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00132_63902998596808_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

021. Если вдруг у вас есть кейс, расскажите о нем в комментариях.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00139_63902998602693_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

022. Александр, спасибо! На этом всё, переходи к следующему уроку интерактивной справки.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00142_63902998606926_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

023. Да, спасибо, обязательно посмотрю.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00143_63902998607202_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)

024. Александр, я не про тебя, а про того, кто смотрит этот урок.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава16/images/00144_63902998607406_КакВЭкспортныйСценарийПередаватьМногострочнуюСтрокуВКачествеПараметра.png)
