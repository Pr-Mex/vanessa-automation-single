##### [Ссылка на видео](https://vkvideo.ru/video-235354700_456239309)

001. Привет! В этом уроке я расскажу тебе про то, как работать с подсценариями. Давай откроем второй экземпляр Ванессы в режиме обучения.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00000_63902993793101_ПодсценарииЧастьОдин.png)

002. И загрузим тестовый пример.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00007_63902993804821_ПодсценарииЧастьОдин.png)

003. Для того, чтобы сценарии данной фичи можно было вызывать из других сценариев - надо в секции тегов указать специальный тег.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00008_63902993804868_ПодсценарииЧастьОдин.png)

004. Это тэг ExportScenarios.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00011_63902993806602_ПодсценарииЧастьОдин.png)

005. Если данный тэг указан в фиче, то все сценарии из неё можно будет вызывать в других сценариях.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00014_63902993810647_ПодсценарииЧастьОдин.png)

006. Вот пример объявления такого сценария.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00017_63902993812279_ПодсценарииЧастьОдин.png)

007. В данный сценарии нельзя передать параметры, т.к. они в нём не объявлены.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00020_63902993816424_ПодсценарииЧастьОдин.png)

008. А вот пример сценария, в который можно будет передать параметр.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00023_63902993818168_ПодсценарииЧастьОдин.png)

009. Вот так происходит объявление, что сценарий может принимать параметр.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00028_63902993823822_ПодсценарииЧастьОдин.png)

010. Чтобы переданное значение параметра попало в шаги подсценария, нужно чтобы в шаге был параметр, который точно совпадает с именем параметра подсценария.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00031_63902993827948_ПодсценарииЧастьОдин.png)

011. Например, если у подсценария есть параметр парам 1, то он будет передаваться в шаги, у которых тоже есть параметр парам 1.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00034_63902993829547_ПодсценарииЧастьОдин.png)



![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00039_63902993835111_ПодсценарииЧастьОдин.png)

012. Также параметр можно передать как часть параметра шага.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00042_63902993839366_ПодсценарииЧастьОдин.png)

013. Для этого имя параметра нужно обрамить квадратными скобками.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00045_63902993841103_ПодсценарииЧастьОдин.png)

014. Теперь посмотрим кап происходит вызов этого подсценария из других сценариев. Откроем тестовый пример.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00051_63902993849254_ПодсценарииЧастьОдин.png)

015. Чтобы вызвать подсценарий надо написать любое ключевое слово из языка Gherkin и затем имя сценария.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00052_63902993849332_ПодсценарииЧастьОдин.png)

016. Вот пример вызова первого подсценария.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00055_63902993851060_ПодсценарииЧастьОдин.png)

017. А вот вызов второго подсценария с передачей в него параметра

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00060_63902993856735_ПодсценарииЧастьОдин.png)

018. Как не трудно заметить вызов подсценария мало чем отличается от вызова обычного шага сценария.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00063_63902993859898_ПодсценарииЧастьОдин.png)

019. Чтобы обозначить вызов подсценария редактор подчеркивает такие строки одной чертой.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00064_63902993860209_ПодсценарииЧастьОдин.png)

020. Ты можешь запустить данный сценарий на выполнение. Тогда в окне сообщений пользователя будут выведены значения всех переменных.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00067_63902993861858_ПодсценарииЧастьОдин.png)

021. На этом всё, переходи к следующему уроку интерактивной справки.

![](https://vanessa-files.do.bit-erp.ru/Doc/1.2.043.1/MD/Глава03/images/00070_63902993866209_ПодсценарииЧастьОдин.png)
